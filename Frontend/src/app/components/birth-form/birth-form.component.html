<div class="birth-form">
  <div class="form-header">
    <h2>NH·∫¨P TH√îNG TIN SINH</h2>
    <p class="subtitle">Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin ƒë·ªÉ xem l√° s·ªë T·ª≠ Vi</p>
  </div>

  <form (ngSubmit)="onSubmit()" #birthForm="ngForm">
    <!-- H·ªç v√† t√™n -->
    <div class="form-group">
      <label for="fullName">
        <i class="icon">üë§</i> H·ªç v√† t√™n:
      </label>
      <input 
        type="text" 
        id="fullName" 
        name="fullName" 
        [(ngModel)]="fullName" 
        placeholder="Nh·∫≠p h·ªç v√† t√™n"
        [class.error]="errors['fullName']">
      <span class="error-message" *ngIf="errors['fullName']">{{ errors['fullName'] }}</span>
    </div>

    <!-- Gi·ªõi t√≠nh v√† lo·∫°i l·ªãch -->
    <div class="form-row">
      <div class="form-group half">
        <label>Gi·ªõi t√≠nh:</label>
        <div class="radio-group">
          <label class="radio-label" [class.selected]="birthInfo.isMale">
            <input type="radio" name="gender" [value]="true" [(ngModel)]="birthInfo.isMale">
            <span>üë® Nam</span>
          </label>
          <label class="radio-label" [class.selected]="!birthInfo.isMale">
            <input type="radio" name="gender" [value]="false" [(ngModel)]="birthInfo.isMale">
            <span>üë© N·ªØ</span>
          </label>
        </div>
      </div>

      <div class="form-group half">
        <label>Lo·∫°i l·ªãch:</label>
        <div class="radio-group">
          <label class="radio-label" [class.selected]="birthInfo.isLunar">
            <input type="radio" name="calendarType" [value]="true" [(ngModel)]="birthInfo.isLunar" (change)="updateDaysInMonth()">
            <span>üåô √Çm l·ªãch</span>
          </label>
          <label class="radio-label" [class.selected]="!birthInfo.isLunar">
            <input type="radio" name="calendarType" [value]="false" [(ngModel)]="birthInfo.isLunar" (change)="updateDaysInMonth()">
            <span>‚òÄÔ∏è D∆∞∆°ng l·ªãch</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Ng√†y th√°ng nƒÉm sinh -->
    <div class="form-section">
      <h3>üìÖ Ng√†y Sinh</h3>
      <div class="form-row">
        <div class="form-group third">
          <label for="year">NƒÉm:</label>
          <select 
            id="year" 
            name="year" 
            [(ngModel)]="birthInfo.year"
            (change)="updateDaysInMonth()"
            [class.error]="errors['year']">
            <option *ngFor="let y of years" [value]="y">{{ y }}</option>
          </select>
          <span class="error-message" *ngIf="errors['year']">{{ errors['year'] }}</span>
        </div>

        <div class="form-group third">
          <label for="month">Th√°ng:</label>
          <select 
            id="month" 
            name="month" 
            [(ngModel)]="birthInfo.month"
            (change)="onMonthChange()"
            [class.error]="errors['month']">
            <option *ngFor="let m of months" [value]="m">Th√°ng {{ m }}</option>
          </select>
          <span class="error-message" *ngIf="errors['month']">{{ errors['month'] }}</span>
        </div>

        <div class="form-group third">
          <label for="day">Ng√†y:</label>
          <select 
            id="day" 
            name="day" 
            [(ngModel)]="birthInfo.day"
            [class.error]="errors['day']">
            <option *ngFor="let d of days" [value]="d">Ng√†y {{ d }}</option>
          </select>
          <span class="error-message" *ngIf="errors['day']">{{ errors['day'] }}</span>
        </div>
      </div>
    </div>

    <!-- Gi·ªù sinh -->
    <div class="form-section">
      <h3>‚è∞ Gi·ªù Sinh</h3>
      <div class="form-group">
        <label for="hourBranch">Ch·ªçn gi·ªù (ƒê·ªãa chi):</label>
        <select 
          id="hourBranch" 
          name="hourBranch" 
          [(ngModel)]="selectedHourBranch"
          (change)="onHourBranchChange()"
          class="select-large">
          <option *ngFor="let branch of hourBranches" [value]="branch.name">
            {{ branch.name }} ({{ branch.displayTime }})
          </option>
        </select>
      </div>

      <div class="form-row">
        <div class="form-group half">
          <label for="hour">Ho·∫∑c nh·∫≠p gi·ªù c·ª• th·ªÉ:</label>
          <input 
            type="number" 
            id="hour" 
            name="hour" 
            [(ngModel)]="birthInfo.hour" 
            min="0" 
            max="23"
            placeholder="Gi·ªù (0-23)">
        </div>

        <div class="form-group half">
          <label for="minute">Ph√∫t:</label>
          <input 
            type="number" 
            id="minute" 
            name="minute" 
            [(ngModel)]="birthInfo.minute" 
            min="0" 
            max="59"
            placeholder="Ph√∫t (0-59)">
        </div>
      </div>
    </div>

    <!-- NƒÉm xem -->
    <div class="form-group">
      <label for="viewYear">
        <i class="icon">üìÜ</i> NƒÉm xem l√° s·ªë:
      </label>
      <select 
        id="viewYear" 
        name="viewYear" 
        [(ngModel)]="viewYear"
        [class.error]="errors['viewYear']">
        <option *ngFor="let y of years" [value]="y">{{ y }}</option>
      </select>
      <span class="error-message" *ngIf="errors['viewYear']">{{ errors['viewYear'] }}</span>
    </div>

    <!-- Buttons -->
    <div class="form-actions">
      <button type="button" class="btn-clear" (click)="clearForm()">üîÑ X√≥a</button>
      <button type="submit" class="btn-submit">‚ú® An Sao T·ª≠ Vi</button>
    </div>
  </form>
</div>
